<!DOCTYPE HTML>
<html>

<head>
    <style>
    </style>
    <!-- standard flatbuffers js API -->
    <script src="flatbuffers.js"></script>
    <!-- generated by flatbuffers flatc-command, from messages.fbs -->
    <script src="messages_generated.js"></script>
    <!-- our messaging framework -->
    <script src="messages.js"></script>
    <script>


        // function ping(msg) {

        //     id = id + 1;
        //     builder.clear();
        //     builder.finish(
        //         event.Message.createMessage(
        //             builder,
        //             event.EventUnion.Echo,
        //             event.Echo.createEcho(
        //                 builder,
        //                 id,
        //                 456,
        //                 builder.createString("payloadddd")
        //             ),
        //             2222
        //         )
        //     );
        //     ws.send(builder.asUint8Array());
        // }
        m.start();

        m.handlers[event.EventUnion.Error] = function (msg) {
            console.log(msg);
        }


        m.handlers[event.EventUnion.Echo] = function (msg) {
            error = msg.event(new event.Error());
            console.error(error.description());
        }

    </script>

</head>

<body>

    <h1>Stats</h1>
    <pre id='stats'></pre>


    <button onclick='addping(1); '>Add ping</button>
    <button onclick='addping(1000);'>Add 1000 pings</button>

    <h1>Log</h1>
    <div id='log'></div>

</body>

</html>